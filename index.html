<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Сборник Стихов</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* Устанавливаем шрифт Inter и обеспечиваем плавные переходы для всех элементов */
        :root {
            --accent-color: #38bdf8; /* Более мягкий синий оттенок */
            --text-color: #374151; /* Нежный темно-серый оттенок */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb; /* Очень светлый серый фон */
        }

        /* Настройка для преформатированного текста в модальном окне */
        pre.poem {
            white-space: pre-wrap;
            line-height: 1.6;
            font-family: inherit;
            font-size: 1rem;
            color: var(--text-color);
            margin: 0;
        }

        /* Настройка модального окна для плавного появления */
        .modal {
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            visibility: hidden;
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
        }

        /* Настройка прокрутки для модального окна на iOS */
        .modal-card {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Стили для кнопок сортировки */
        .sort-btn {
            padding: 8px 16px;
            border-radius: 9999px;
            border: 1px solid #e5e7eb; /* gray-200 */
            background-color: #ffffff;
            color: #374151; /* gray-700 */
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .sort-btn:hover {
            background-color: #f3f4f6; /* gray-100 */
            border-color: #d1d5db; /* gray-300 */
        }
        .sort-btn.active {
            background-color: var(--accent-color);
            color: #ffffff;
            border-color: var(--accent-color);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

    </style>
</head>
<body class="bg-gray-50 min-h-screen p-4 sm:p-8 text-gray-700">

    <div class="container mx-auto max-w-5xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-800 mb-4">
                Сборник Cтихов
            </h1>
            <!-- Поле для поиска -->
            <div class="relative max-w-lg mx-auto">
                <input type="search" id="searchInput" placeholder="Поиск по названию, автору или тексту..." class="w-full px-4 py-3 rounded-full border-2 border-gray-200 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 transition-all duration-300 outline-none shadow-sm">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 absolute right-4 top-1/2 -translate-y-1/2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            </div>
        </header>

        <!-- Блок с кнопками сортировки -->
        <div class="flex justify-center items-center flex-wrap gap-2 sm:gap-4 mb-6">
            <span class="text-gray-600 font-semibold hidden sm:block">Сортировать:</span>
            <div id="sort-buttons" class="flex flex-wrap justify-center gap-2">
                <button data-sort="title" data-order="asc" class="sort-btn active">По названию (А-Я)</button>
                <button data-sort="title" data-order="desc" class="sort-btn">По названию (Я-А)</button>
                <button data-sort="length" data-order="asc" class="sort-btn">По длине (короче)</button>
                <button data-sort="length" data-order="desc" class="sort-btn">По длине (длиннее)</button>
            </div>
        </div>

        <div id="grid" class="grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
        </div>
        <p id="noResults" class="text-center text-gray-500 hidden mt-8">Ничего не найдено.</p>
    </div>

    <!-- Модальное окно -->
    <div id="modal" class="modal fixed inset-0 flex items-center justify-center p-4 bg-gray-900 bg-opacity-60 z-[100] transition-opacity duration-300">
        <div class="modal-card bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto p-6 sm:p-8 transform transition-transform duration-300 scale-95 relative" role="dialog" aria-modal="true">
            <button id="closeBtn" class="absolute top-3 right-3 p-2 rounded-full text-gray-500 hover:bg-gray-100 hover:text-gray-700 transition-colors" aria-label="Закрыть">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 id="modalTitle" class="text-xl sm:text-2xl font-bold text-gray-800 text-center mb-2 leading-tight"></h2>
            <p id="modalAuthor" class="text-center text-gray-500 mb-6"></p>
            <pre id="modalText" class="poem text-base text-gray-700 leading-relaxed"></pre>
        </div>
    </div>

    <script>
        // Обновленная структура данных со стихами
        const poems = [
            { title: "Плач Ярославны", author: "пер. Н. Заболоцкого", text: `Над широким берегом Дуная,\nНад великой Галицкой землей\nПлачет, из Путивля долетая,\nГолос Ярославны молодой:\n\n«Обернусь я, бедная, кукушкой,\nПо Дунаю-речке полечу\nИ рукав с бобровою опушкой,\nНаклонясь, в Каяле омочу.\n\nУлетят, развеются туманы,\nПриоткроет очи Игорь-князь,\nИ утру кровавые я раны,\nНад могучим телом наклонясь».\n\nДалеко в Путивле, на забрале,\nЛишь заря займется поутру,\nЯрославна, полная печали,\nКак кукушка, кличет на юру:\n\n«Что ты, Ветер, злобно повеваешь,\nЧто клубишь туманы у реки,\nСтрелы половецкие вздымаешь,\nМечешь их на русские полки?\n\nЧем тебе не любо на просторе\nВысоко под облаком летать,\nКорабли лелеять в синем море,\nЗа кормою волны колыхать?\n\nТы же, стрелы вражеские сея,\nТолько смертью веешь с высоты.\nАх, зачем, зачем мое веселье\nВ ковылях навек развеял ты?»\n\nНа заре в Путивле причитая,\nКак кукушка раннею весной,\nЯрославна кличет молодая,\nНа стене рыдая городской:\n\n«Днепр мой славный! Каменные горы\nВ землях половецких ты пробил,\nСвятослава в дальние просторы\nДо полков Кобяковых носил.\n\nВозлелей же князя, господине,\nСохрани на дальней стороне,\nЧтоб забыла слезы я отныне,\nЧтобы жив вернулся он ко мне!»\n\nДалеко в Путивле, на забрале,\nЛишь заря займется поутру,\nЯрославна, полная печали,\nКак кукушка, кличет на юру:\n\n«Солнце трижды светлое! С тобою\nКаждому приветно и тепло.\nЧто ж ты войско князя удалое\nЖаркими лучами обожгло?\n\nИ зачем в пустыне ты безводной\nПод ударом грозных половчан\nЖаждою стянуло лук походный,\nГорем переполнило колчан?»` },
            { title: "К Чаадаеву", author: "А. С. Пушкин", text: `Любви, надежды, тихой славы\nНедолго нежил нас обман,\nИсчезли юные забавы,\nКак сон, как утренний туман;\nНо в нас горит еще желанье,\nПод гнетом власти роковой\nНетерпеливою душой\nОтчизны внемлем призыванье.\nМы ждем с томленьем упованья\nМинуты вольности святой,\nКак ждет любовник молодой\nМинуты верного свиданья.\nПока свободою горим,\nПока сердца для чести живы,\nМой друг, отчизне посвятим\nДуши прекрасные порывы!\nТоварищ, верь: взойдет она,\nЗвезда пленительного счастья,\nРоссия вспрянет ото сна,\nИ на обломках самовластья\nНапишут наши имена!` },
            { title: "Анчар", author: "А. С. Пушкин", text: `В пустыне чахлой и скупой,\nНа почве, зноем раскаленной,\nАнчар, как грозный часовой,\nСтоит — один во всей вселенной.\n\nПрирода жаждущих степей\nЕго в день гнева породила,\nИ зелень мертвую ветвей\nИ корни ядом напоила.\n\nЯд каплет сквозь его кору,\nК полудню растопясь от зною,\nИ застывает ввечеру\nГустой прозрачною смолою.\n\nК нему и птица не летит,\nИ тигр нейдет: лишь вихорь черный\nНа древо смерти набежит —\nИ мчится прочь, уже тлетворный.\n\nИ если туча оросит,\nБлуждая, лист его дремучий,\nС его ветвей, уж ядовит,\nСтекает дождь в песок горючий.\n\nНо человека человек\nПослал к анчару властным взглядом,\nИ тот послушно в путь потек\nИ к утру возвратился с ядом.\n\nПринес он смертную смолу\nДа ветвь с увядшими листами,\nИ пот по бледному челу\nСтруился хладными ручьями;\n\nПринес — и ослабел и лег\nПод сводом шалаша на лыки,\nИ умер бедный раб у ног\nНепобедимого владыки.\n\nА царь тем ядом напитал\nСвои послушливые стрелы\nИ с ними гибель разослал\nК соседям в чуждые пределы.` },
            { title: "Пророк", author: "А. С. Пушкин", text: `Духовной жаждою томим,\nВ пустыне мрачной я влачился, —\nИ шестикрылый серафим\nНа перепутье мне явился.\n\nПерстами легкими как сон\nМоих зениц коснулся он.\nОтверзлись вещие зеницы,\nКак у испуганной орлицы.\n\nМоих ушей коснулся он, —\nИ их наполнил шум и звон:\nИ внял я неба содроганье,\nИ горний ангелов полет,\n\nИ гад морских подводный ход,\nИ дольней лозы прозябанье.\nИ он к устам моим приник,\nИ вырвал грешный мой язык,\n\nИ празднословный и лукавый,\nИ жало мудрыя змеи\nВ уста замершие мои\nВложил десницею кровавой.\n\nИ он мне грудь рассек мечом,\nИ сердце трепетное вынул,\nИ угль, пылающий огнем,\nВо грудь отверстую воздвинул.\n\nКак труп в пустыне я лежал,\nИ бога глас ко мне воззвал:\n«Восстань, пророк, и виждь, и внемли,\nИсполнись волею моей,\n\nИ, обходя моря и земли,\nГлаголом жги сердца людей».` },
            { title: "Письмо Онегина", author: "А. С. Пушкин", text: `Предвижу все: вас оскорбит\nПечальной тайны объясненье.\nКакое горькое презренье\nВаш гордый взгляд изобразит!\nЧего хочу? с какою целью\nОткрою душу вам свою?\nКакому злобному веселью,\nБыть может, повод подаю!\n\nСлучайно вас когда-то встретя,\nВ вас искру нежности заметя,\nЯ ей поверить не посмел:\nПривычке милой не дал ходу;\nСвою постылую свободу\nЯ потерять не захотел.\nЕще одно нас разлучило...\nНесчастной жертвой Ленский пал...\nОто всего, что сердцу мило,\nТогда я сердце оторвал;\nЧужой для всех, ничем не связан,\nЯ думал: вольность и покой\nЗамена счастью. Боже мой!\nКак я ошибся, как наказан.\n\nНет, поминутно видеть вас,\nПовсюду следовать за вами,\nУлыбку уст, движенье глаз\nЛовить влюбленными глазами,\nВнимать вам долго, понимать\nДушой все ваше совершенство,\nПред вами в муках замирать,\nБледнеть и гаснуть... вот блаженство!\n\nИ я лишен того: для вас\nТащусь повсюду наудачу;\nМне дорог день, мне дорог час:\nА я в напрасной скуке трачу\nСудьбой отсчитанные дни.\nИ так уж тягостны они.\nЯ знаю: век уж мой измерен;\nНо чтоб продлилась жизнь моя,\nЯ утром должен быть уверен,\nЧто с вами днем увижусь я...\n\nБоюсь: в мольбе моей смиренной\nУвидит ваш суровый взор\nЗатеи хитрости презренной -\nИ слышу гневный ваш укор.\nКогда б вы знали, как ужасно\nТомиться жаждою любви,\nПылать - и разумом всечасно\nСмирять волнение в крови;\nЖелать обнять у вас колени\nИ, зарыдав, у ваших ног\nИзлить мольбы, признанья, пени,\nВсе, все, что выразить бы мог,\nА между тем притворным хладом\nВооружать и речь и взор,\nВести спокойный разговор,\nГлядеть на вас веселым взглядом!..\n\nНо так и быть: я сам себе\nПротивиться не в силах боле;\nВсе решено: я в вашей воле\nИ предаюсь моей судьбе` },
            { title: "Смерть Поэта", author: "М. Ю. Лермонтов", text: `Отмщенье, государь, отмщенье!\nПаду к ногам твоим:\nБудь справедлив и накажи убийцу,\nЧтоб казнь его в позднейшие века\nТвой правый суд потомству возвестила,\nЧтоб видели злодеи в ней пример.\nПогиб поэт! — невольник чести —\nПал, оклеветанный молвой,\nС свинцом в груди и жаждой мести,\nПоникнув гордой головой!..\nНе вынесла душа поэта\nПозора мелочных обид,\nВосстал он против мнений света\nОдин, как прежде… и убит!\nУбит!.. К чему теперь рыданья,\nПустых похвал ненужный хор\nИ жалкий лепет оправданья?\nСудьбы свершился приговор!\nНе вы ль сперва так злобно гнали\nЕго свободный, смелый дар\nИ для потехи раздували\nЧуть затаившийся пожар?\nЧто ж? веселитесь… Он мучений\nПоследних вынести не мог:\nУгас, как светоч, дивный гений,\nУвял торжественный венок.\nЕго убийца хладнокровно\nНавел удар… спасенья нет:\nПустое сердце бьется ровно,\nВ руке не дрогнул пистолет.\nИ что за диво?.. издалека,\nПодобный сотням беглецов,\nНа ловлю счастья и чинов\nЗаброшен к нам по воле рока;\nСмеясь, он дерзко презирал\nЗемли чужой язык и нравы;\nНе мог щадить он нашей славы;\nНе мог понять в сей миг кровавый,\nНа что он руку поднимал!..\nИ он убит — и взят могилой,\nКак тот певец, неведомый, но милый,\nДобыча ревности глухой,\nВоспетый им с такою чудной силой,\nСраженный, как и он, безжалостной рукой.\nЗачем от мирных нег и дружбы простодушной\nВступил он в этот свет завистливый и душный\nДля сердца вольного и пламенных страстей?\nЗачем он руку дал клеветникам ничтожным,\nЗачем поверил он словам и ласкам ложным,\nОн, с юных лет постиг нувший людей?..\nИ прежний сняв венок — они венец терновый,\nУвитый лаврами, надели на него:\nНо иглы тайные сурово\nЯзвили славное чело;\nОтравлены его последние мгновенья\nКоварным шепотом насмешливых невежд,\nИ умер он — с напрасной жаждой мщенья,\nС досадой тайною обманутых надежд.\nЗамолкли звуки чудных песен,\nНе раздаваться им опять:\nПриют певца угрюм и тесен,\nИ на устах его печать.\nА вы, надменные потомки\nИзвестной подлостью прославленных отцов,\nПятою рабскою поправшие обломки\nИгрою счастия обиженных родов!\nВы, жадною толпой стоящие у трона,\nСвободы, Гения и Славы палачи!\nТаитесь вы под сению закона,\nПред вами суд и правда — всё молчи!..\nНо есть и божий суд, наперсники разврата!\nЕсть грозный суд: он ждет;\nОн не доступен звону злата,\nИ мысли, и дела он знает наперед.\nТогда напрасно вы прибегнете к злословью:\nОно вам не поможет вновь,\nИ вы не смоете всей вашей черной кровью\nПоэта праведную кровь!` },
            { title: "Родина", author: "М. Ю. Лермонтов", text: `Люблю отчизну я, но странною любовью!\nНе победит ее рассудок мой.\nНи слава, купленная кровью,\nНи полный гордого доверия покой,\nНи темной старины заветные преданья\nНе шевелят во мне отрадного мечтанья.\nНо я люблю — за что, не знаю сам —\nЕе степей холодное молчанье,\nЕе лесов безбрежных колыханье,\nРазливы рек ее, подобные морям;\nПроселочным путем люблю скакать в телеге\nИ, взором медленным пронзая ночи тень,\nВстречать по сторонам, вздыхая о ночлеге,\nДрожащие огни печальных деревень;\nЛюблю дымок спаленной жнивы,\nВ степи ночующий обоз\nИ на холме средь желтой нивы\nЧету белеющих берез.\nС отрадой, многим незнакомой,\nЯ вижу полное гумно,\nИзбу, покрытую соломой,\nС резными ставнями окно;\nИ в праздник, вечером росистым,\nСмотреть до полночи готов\nНа пляску с топаньем и свистом\nПод говор пьяных мужичков` },
            { title: "Пророк", author: "М. Ю. Лермонтов", text: `С тех пор как Вечный Судия\nМне дал всеведенье пророка,\nВ очах людей читаю я\nСтраницы злобы и порока.\nПровозглашать я стал любви\nИ правды чистые ученья —\nВ меня все ближние мои\nБросали бешено каменья.\nПосыпал пеплом я главу,\nИз городов бежал я нищий,\nИ вот в пустыне я живу,\nКак птицы, даром Божьей пищи.\nЗавет Предвечного храня,\nМне тварь покорна там земная.\nИ звезды слушают меня,\nЛучами радостно играя.\nКогда же через шумный град\nЯ пробираюсь торопливо,\nТо старцы детям говорят\nС улыбкою самолюбивой:\n«Смотрите: вот пример для вас!\nОн горд был, не ужился с нами:\nГлупец, хотел уверить нас,\nЧто Бог гласит его устами!\nСмотрите ж, дети, на него:\nКак он угрюм, и худ, и бледен!\nСмотрите, как он наг и беден,\nКак презирают все его!»` },
            { title: "Отговорила роща золотая", author: "С. А. Есенин", text: `Отговорила роща золотая\nБерёзовым, весёлым языком,\nИ журавли, печально пролетая,\nУж не жалеют больше ни о ком.\nКого жалеть? Ведь каждый в мире странник —\nПройдёт, зайдёт и вновь оставит дом.\nО всех ушедших грезит конопляник\nС широким месяцем над голубым прудом.\nСтою один среди равнины голой,\nА журавлей относит ветер в даль,\nЯ полон дум о юности весёлой,\nНо ничего в прошедшем мне не жаль.\nНе жаль мне лет, растраченных напрасно,\nНе жаль души сиреневую цветь.\nВ саду горит костёр рябины красной,\nНо никого не может он согреть.\nНе обгорят рябиновые кисти,\nОт желтизны не пропадёт трава,\nКак дерево роняет тихо листья,\nТак я роняю грустные слова.\nИ если время, ветром разметая,\nСгребёт их все в один ненужный ком…\nСкажите так… что роща золотая\nОтговорила милым языком.` },
            { title: "Шаганэ ты моя, Шаганэ", author: "С. А. Есенин", text: `Шаганэ ты моя, Шаганэ!\nПотому, что я с севера, что ли,\nЯ готов рассказать тебе поле,\nПро волнистую рожь при луне.\nШаганэ ты моя, Шаганэ.\nПотому, что я с севера, что ли,\nЧто луна там огромней в сто раз,\nКак бы ни был красив Шираз,\nОн не лучше рязанских раздолий.\nПотому, что я с севера, что ли.\nЯ готов рассказать тебе поле,\nЭти волосы взял я у ржи,\nЕсли хочешь, на палец вяжи —\nЯ нисколько не чувствую боли.\nЯ готов рассказать тебе поле.\nПро волнистую рожь при луне\nПо кудрям ты моим догадайся.\nДорогая, шути, улыбайся,\nНе буди только память во мне\nПро волнистую рожь при луне.\nШаганэ ты моя, Шаганэ!\nТам, на севере, девушка тоже,\nНа тебя она страшно похожа,\nМожет, думает обо мне…\nШаганэ ты моя, Шаганэ.` },
            { title: "Не жалею, не зову, не плачу", author: "С. А. Есенин", text: `Не жалею, не зову, не плачу,\nВсе пройдет, как с белых яблонь дым.\nУвяданья золотом охваченный,\nЯ не буду больше молодым.\nТы теперь не так уж будешь биться,\nСердце, тронутое холодком,\nИ страна березового ситца\nНе заманит шляться босиком.\nДух бродяжий! ты все реже, реже\nРасшевеливаешь пламень уст\nО моя утраченная свежесть,\nБуйство глаз и половодье чувств.\nЯ теперь скупее стал в желаньях,\nЖизнь моя? иль ты приснилась мне?\nСловно я весенней гулкой ранью\nПроскакал на розовом коне.\nВсе мы, все мы в этом мире тленны,\nТихо льется с кленов листьев медь…\nБудь же ты вовек благословенно,\nЧто пришло процвесть и умереть` },
            { title: "Послушайте!", author: "В. В. Маяковский", text: `Послушайте!\nВедь, если звезды зажигают —\nзначит — это кому-нибудь нужно?\nЗначит — кто-то хочет, чтобы они были?\nЗначит — кто-то называет эти плево́чки жемчужиной?\nИ, надрываясь\nв метелях полу́денной пыли,\nврывается к богу,\nбоится, что опоздал,\nплачет,\nцелует ему жилистую руку,\nпросит —\nчтоб обязательно была звезда! —\nклянется —\nне перенесет эту беззвездную муку!\nА после\nходит тревожный,\nно спокойный наружно.\nГоворит кому-то:\n«Ведь теперь тебе ничего?\nНе страшно?\nДа?!»\nПослушайте!\nВедь, если звезды\nзажигают —\nзначит — это кому-нибудь нужно?\nЗначит — это необходимо,\nчтобы каждый вечер\nнад крышами\nзагоралась хоть одна звезда?!` },
            { title: "Мне нравится, что вы больны не мной", author: "М. И. Цветаева", text: `Мне нравится, что Вы больны не мной,\nМне нравится, что я больна не Вами,\nЧто никогда тяжелый шар земной\nНе уплывет под нашими ногами.\nМне нравится, что можно быть смешной —\nРаспущенной — и не играть словами,\nИ не краснеть удушливой волной,\nСлегка соприкоснувшись рукавами.\nМне нравится еще, что Вы при мне\nСпокойно обнимаете другую,\nНе прочите мне в адовом огне\nГореть за то, что я не Вас целую.\nЧто имя нежное мое, мой нежный, не\nУпоминаете ни днем ни ночью — всуе…\nЧто никогда в церковной тишине\nНе пропоют над нами: аллилуйя!\nСпасибо Вам и сердцем и рукой\nЗа то, что Вы меня — не зная сами! —\nТак любите: за мой ночной покой,\nЗа редкость встреч закатными часами,\nЗа наши не-гулянья под луной,\nЗа солнце не у нас над головами,\nЗа то, что Вы больны — увы! — не мной,\nЗа то, что я больна — увы! — не Вами.` },
            { title: "Не с теми я, кто бросил землю", author: "А. А. Ахматова", text: `Не с теми я, кто бросил землю\nНа растерзание врагам.\nИх грубой лести я не внемлю,\nИм песен я своих не дам.\nНо вечно жалок мне изгнанник,\nКак заключенный, как больной.\nТемна твоя дорога, странник,\nПолынью пахнет хлеб чужой.\nА здесь, в глухом чаду пожара\nОстаток юности губя,\nМы ни единого удара\nНе отклонили от себя.\nИ знаем, что в оценке поздней\nОправдан будет каждый час…\nНо в мире нет людей бесслезней,\nНадменнее и проще нас.` },
            { title: "Я убит подо Ржевом", author: "А. Т. Твардовский", text: `Я убит подо Ржевом,\nВ безыменном болоте,\nВ пятой роте, на левом,\nПри жестоком налете.\nЯ не слышал разрыва,\nЯ не видел той вспышки, —\nТочно в пропасть с обрыва —\nИ ни дна ни покрышки.\nИ во всем этом мире,\nДо конца его дней,\nНи петлички, ни лычки\nС гимнастерки моей.\nЯ — где корни слепые\nИщут корма во тьме;\nЯ — где с облачком пыли\nХодит рожь на холме;\nЯ — где крик петушиный\nНа заре по росе;\nЯ — где ваши машины\nВоздух рвут на шоссе;\nГде травинку к травинке\nРечка травы прядет, —\nТам, куда на поминки\nДаже мать не придет.\nЛетом горького года\nЯ убит. Для меня —\nНи известий, ни сводок\nПосле этого дня.\nПодсчитайте, живые,\nСколько сроку назад\nБыл на фронте впервые\nНазван вдруг Сталинград.\nФронт горел, не стихая,\nКак на теле рубец.\nЯ убит и не знаю,\nНаш ли Ржев наконец?\nУдержались ли наши\nТам, на Среднем Дону?..\nЭтот месяц был страшен,\nБыло все на кону.\nНеужели до осени\nБыл за ним уже Дон\nИ хотя бы колесами\nК Волге вырвался он?\nНет, неправда. Задачи\nТой не выиграл враг!\nНет же, нет! А иначе\nДаже мертвому — как?\nИ у мертвых, безгласных,\nЕсть отрада одна:\nМы за родину пали,\nНо она — спасена.\nНаши очи померкли,\nПламень сердца погас,\nНа земле на поверке\nВыкликают не нас.\nМы — что кочка, что камень,\nДаже глуше, темней.\nНаша вечная память —\nКто завидует ей?\nНашим прахом по праву\nОвладел чернозем.\nНаша вечная слава —\nНевеселый резон.\nНам свои боевые\nНе носить ордена.\nВам — все это, живые.\nНам — отрада одна:\nЧто недаром боролись\nМы за родину-мать.\nПусть не слышен наш голос, —\nВы должны его знать.\nВы должны были, братья,\nУстоять, как стена,\nИбо мертвых проклятье —\nЭта кара страшна.\nЭто грозное право\nНам навеки дано, —\nИ за нами оно —\nЭто горькое право.\nЛетом, в сорок втором,\nЯ зарыт без могилы.\nВсем, что было потом,\nСмерть меня обделила.\nВсем, что, может, давно\nВам привычно и ясно,\nНо да будет оно\nС нашей верой согласно.\nБратья, может быть, вы\nИ не Дон потеряли,\nИ в тылу у Москвы\nЗа нее умирали.\nИ в заволжской дали\nСпешно рыли окопы,\nИ с боями дошли\nДо предела Европы.\nНам достаточно знать,\nЧто была, несомненно,\nТа последняя пядь\nНа дороге военной.\nТа последняя пядь,\nЧто уж если оставить,\nТо шагнувшую вспять\nНогу некуда ставить.\nТа черта глубины,\nЗа которой вставало\nИз-за вашей спины\nПламя кузниц Урала.\nИ врага обратили\nВы на запад, назад.\nМожет быть, побратимы,\nИ Смоленск уже взят?\nИ врага вы громите\nНа ином рубеже,\nМожет быть, вы к границе\nПодступили уже!\nМожет быть… Да исполнится\nСлово клятвы святой! —\nВедь Берлин, если помните,\nНазван был под Москвой.\nБратья, ныне поправшие\nКрепость вражьей земли,\nЕсли б мертвые, павшие\nХоть бы плакать могли!\nЕсли б залпы победные\nНас, немых и глухих,\nНас, что вечности преданы,\nВоскрешали на миг, —\nО, товарищи верные,\nЛишь тогда б на войне\nВаше счастье безмерное\nВы постигли вполне.\nВ нем, том счастье, бесспорная\nНаша кровная часть,\nНаша, смертью оборванная,\nВера, ненависть, страсть.\nНаше все! Не слукавили\nМы в суровой борьбе,\nВсе отдав, не оставили\nНичего при себе.\nВсе на вас перечислено\nНавсегда, не на срок.\nИ живым не в упрек\nЭтот голос ваш мыслимый.\nБратья, в этой войне\nМы различья не знали:\nТе, что живы, что пали, —\nБыли мы наравне.\nИ никто перед нами\nИз живых не в долгу,\nКто из рук наших знамя\nПодхватил на бегу,\nЧтоб за дело святое,\nЗа Советскую власть\nТак же, может быть, точно\nШагом дальше упасть.\nЯ убит подо Ржевом,\nТот еще под Москвой.\nГде-то, воины, где вы,\nКто остался живой?\nВ городах миллионных,\nВ селах, дома в семье?\nВ боевых гарнизонах\nНа не нашей земле?\nАх, своя ли, чужая,\nВся в цветах иль в снегу…\nЯ вам жизнь завещаю, —\nЧто я больше могу?\nЗавещаю в той жизни\nВам счастливыми быть\nИ родимой отчизне\nС честью дальше служить.\nГоревать — горделиво,\nНе клонясь головой,\nЛиковать — не хвастливо\nВ час победы самой.\nИ беречь ее свято,\nБратья, счастье свое —\nВ память воина-брата,\nЧто погиб за нее.` },
            { title: "Властителям и судиям", author: "Гавриил Державин", text: `Восстал всевышний бог, да судит\nЗемных богов во сонме их;\nДоколе, рек, доколь вам будет\nЩадить неправедных и злых?\nВаш долг есть: сохранять законы,\nНа лица сильных не взирать,\nБез помощи, без обороны\nСирот и вдов не оставлять.\nВаш долг: спасать от бед невинных,\nНесчастливым подать покров;\nОт сильных защищать бессильных,\nИсторгнуть бедных из оков.\nНе внемлют! видят — и не знают!\nПокрыты мздою очеса:\nЗлодействы землю потрясают,\nНеправда зыблет небеса.\nЦари! Я мнил, вы боги властны,\nНикто над вами не судья,\nНо вы, как я подобно, страстны,\nИ так же смертны, как и я.\nИ вы подобно так падете,\nКак с древ увядший лист падет!\nИ вы подобно так умрете,\nКак ваш последний раб умрет!\nВоскресни, боже! боже правых!\nИ их молению внемли:\nПриди, суди, карай лукавых,\nИ будь един царем земли!` },
            { title: "А судьи кто?", author: "А. С. Грибоедов", text: `А судьи кто? — За древностию лет\nК свободной жизни их вражда непримирима,\nСужденья черпают из забытых газет\nВремен Очаковских и покоренья Крыма;\nВсегда готовые к журьбе,\nПоют все песнь одну и ту же,\nНе замечая об себе:\nЧто старее, то хуже.\nГде? укажите нам, отечества отцы,\nКоторых мы должны принять за образцы?\nНе эти ли, грабительством богаты?\nЗащиту от суда в друзьях нашли, в родстве,\nВеликолепные соорудя палаты,\nГде разливаются в пирах и мотовстве,\nИ где не воскресят клиенты-иностранцы\nПрошедшего житья подлейшие черты.\nДа и кому в Москве не зажимали рты\nОбеды, ужины и танцы?\nНе тот ли, вы к кому меня еще с пелён,\nДля замыслов каких-то непонятных,\nДитёй возили на поклон?\nТот Нестор негодяев знатных,\nТолпою окруженный слуг;\nУсердствуя, они в часы вина и драки\nИ честь и жизнь его не раз спасали: вдруг\nНа них он выменил борзые три собаки!!!\nИли вон тот еще, который для затей\nНа крепостный балет согнал на многих фурах\nОт матерей, отцов отторженных детей?!\nСам погружен умом в Зефирах и в Амурах,\nЗаставил всю Москву дивиться их красе!\nНо должников не согласил к отсрочке:\nАмуры и Зефиры все\nРаспроданы по одиночке!!!\nВот те, которые дожили до седин!\nВот уважать кого должны мы на безлюдьи!\nВот наши строгие ценители и судьи!\nТеперь пускай из нас один,\nИз молодых людей, найдется: враг исканий,\nНе требуя ни мест, ни повышенья в чин,\nВ науки он вперит ум, алчущий познаний;\nИли в душе его сам бог возбудит жар\nК искусствам творческим, высоким и прекрасным,—\nОни тотчас: разбой! пожар!\nИ прослывет у них мечтателем! опасным!! —\nМундир! один мундир! он в прежнем их быту\nКогда-то укрывал, расшитый и красивый,\nИх слабодушие, рассудка нищету;\nИ нам за ними в путь счастливый!\nИ в женах, дочерях к мундиру та же страсть!\nЯ сам к нему давно ль от нежности отрекся?!\nТеперь уж в это мне ребячество не впасть;\nНо кто б тогда за всеми не повлекся?\nКогда из гвардии, иные от двора\nСюда на время приезжали:\nКричали женщины: ура!\nИ в воздух чепчики бросали!` },
            { title: "О, весна без конца и без краю…", author: "А. А. Блок", text: `О, весна без конца и без краю —\nБез конца и без краю мечта!\nУзнаю тебя, жизнь! Принимаю!\nИ приветствую звоном щита!\nПринимаю тебя, неудача,\nИ удача, тебе мой привет!\nВ заколдованной области плача,\nВ тайне смеха — позорного нет!\nПринимаю бессонные споры,\nУтро в завесах темных окна,\nЧтоб мои воспаленные взоры\nРаздражала, пьянила весна!\nПринимаю пустынные веси!\nИ колодцы земных городов!\nОсветленный простор поднебесий\nИ томления рабьих трудов!\nИ встречаю тебя у порога —\nС буйным ветром в змеиных кудрях,\nС неразгаданным именем бога\nНа холодных и сжатых губах…\nПеред этой враждующей встречей\nНикогда я не брошу щита…\nНикогда не откроешь ты плечи…\nНо над нами — хмельная мечта!\nИ смотрю, и вражду измеряю,\nНенавидя, кляня и любя:\nЗа мученья, за гибель — я знаю —\nВсё равно: принимаю тебя!` }
        ];

        // Получаем ссылки на DOM-элементы
        const grid = document.getElementById('grid');
        const searchInput = document.getElementById('searchInput');
        const noResults = document.getElementById('noResults');
        const modal = document.getElementById('modal');
        const modalCard = modal.querySelector('.modal-card');
        const modalTitle = document.getElementById('modalTitle');
        const modalAuthor = document.getElementById('modalAuthor');
        const modalText = document.getElementById('modalText');
        const closeBtn = document.getElementById('closeBtn');
        const sortButtonsContainer = document.getElementById('sort-buttons');

        let allPoems = [];
        let currentSort = { type: 'title', order: 'asc' };

        // Функция для правильного склонения слова "строка"
        function getLineString(count) {
            const lastDigit = count % 10;
            const lastTwoDigits = count % 100;
            if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {
                return `${count} строк`;
            }
            if (lastDigit === 1) {
                return `${count} строка`;
            }
            if (lastDigit >= 2 && lastDigit <= 4) {
                return `${count} строки`;
            }
            return `${count} строк`;
        }
        
        // Генерируем карточки стихов
        function renderPoems(poemsToRender) {
            grid.innerHTML = ''; // Очищаем сетку перед отрисовкой
            if (poemsToRender.length === 0) {
                noResults.classList.remove('hidden');
            } else {
                noResults.classList.add('hidden');
            }

            poemsToRender.forEach(poem => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-lg p-6 flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 cursor-pointer';
                
                const content = document.createElement('div');
                content.innerHTML = `
                    <h2 class="text-lg font-semibold mb-1 text-gray-800">${poem.title}</h2>
                    <p class="text-sm text-gray-500 mb-4">${poem.author}</p>
                `;

                const button = document.createElement('button');
                button.textContent = 'Читать';
                button.className = 'w-full mt-auto bg-sky-500 hover:bg-sky-600 text-white font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500';
                
                // Используем замыкание, чтобы передать правильный объект poem
                card.onclick = () => openModal(poem);

                card.appendChild(content);
                card.appendChild(button);
                grid.appendChild(card);
            });
        }

        // Открывает модальное окно
        function openModal(poem) {
            modalTitle.textContent = poem.title;
            modalAuthor.textContent = `${poem.author} • ${getLineString(poem.lineCount)}`;
            modalText.textContent = poem.text;
            
            modal.classList.add('open');
            setTimeout(() => modalCard.classList.remove('scale-95'), 10); // Плавное появление
            document.body.style.overflow = 'hidden';
        }

        // Закрывает модальное окно
        function closeModal() {
            modalCard.classList.add('scale-95');
            modal.classList.remove('open');
            document.body.style.overflow = '';
        }
        
        // Сортировка массива стихов
        function sortPoems(poemsList) {
            const { type, order } = currentSort;
            // Создаем копию, чтобы не изменять исходный массив
            return [...poemsList].sort((a, b) => {
                if (type === 'title') {
                    return order === 'asc' 
                        ? a.title.localeCompare(b.title, 'ru') 
                        : b.title.localeCompare(a.title, 'ru');
                }
                if (type === 'length') {
                    return order === 'asc' 
                        ? a.lineCount - b.lineCount 
                        : b.lineCount - a.lineCount;
                }
                return 0;
            });
        }

        // Фильтрация и отображение стихов
        function filterAndRender() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const filteredPoems = searchTerm === '' 
                ? allPoems 
                : allPoems.filter(poem => 
                    poem.title.toLowerCase().includes(searchTerm) ||
                    poem.author.toLowerCase().includes(searchTerm) ||
                    poem.text.toLowerCase().includes(searchTerm)
                );
            
            const sortedPoems = sortPoems(filteredPoems);
            renderPoems(sortedPoems);
        }

        // Добавляем обработчики событий
        searchInput.addEventListener('input', filterAndRender);
        closeBtn.addEventListener('click', closeModal);

        sortButtonsContainer.addEventListener('click', (e) => {
            const targetButton = e.target.closest('button.sort-btn');
            if (!targetButton) return;

            // Обновляем состояние сортировки
            currentSort.type = targetButton.dataset.sort;
            currentSort.order = targetButton.dataset.order;
            
            // Обновляем активную кнопку
            sortButtonsContainer.querySelector('.active').classList.remove('active');
            targetButton.classList.add('active');

            // Перерисовываем отфильтрованные и отсортированные стихи
            filterAndRender();
        });
        
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && modal.classList.contains('open')) {
                closeModal();
            }
        });

        // Запускаем генерацию карточек после загрузки страницы
        window.onload = () => {
            // Единожды вычисляем количество строк для каждого стиха
            allPoems = poems.map(poem => ({
                ...poem,
                lineCount: poem.text.split('\n').length
            }));
            
            // Первичная отрисовка с сортировкой по умолчанию
            filterAndRender();
        };
    </script>
</body>
</html>



